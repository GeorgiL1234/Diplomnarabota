## ===============================
## PRODUCTION CONFIGURATION
## ===============================
## Този файл се използва за production деплой
## Активира се с: spring.profiles.active=production

## ===============================
## SERVER CONFIGURATION
## ===============================
# Портът се задава от hosting платформата (Heroku, Railway, Render и др.)
# Използва се PORT environment variable
server.port=${PORT:8080}

## ===============================
## DATABASE (H2) - FILE-BASED PERSISTENCE
## ===============================
# За production използваме file-based база данни
# Пътят се задава спрямо текущата директория
spring.datasource.url=jdbc:h2:file:./data/webshopdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;AUTO_SERVER=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA/Hibernate настройки
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

## ===============================
## FILE UPLOAD SETTINGS
## ===============================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB

## ===============================
## ENCODING (CYRILLIC)
## ===============================
spring.http.encoding.enabled=true
spring.http.encoding.charset=UTF-8
spring.http.encoding.force=true

server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

## ===============================
## LOGGING
## ===============================
logging.level.org.springframework.web=INFO
logging.level.org.springframework.http.converter=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.com.example.webshop=INFO

## ===============================
## H2 CONSOLE (DISABLED IN PRODUCTION)
## ===============================
spring.h2.console.enabled=false
